"use strict";(self.webpackChunkbisyFrends=self.webpackChunkbisyFrends||[]).push([[393],{8393:(Ce,y,p)=>{p.r(y),p.d(y,{CalendarModule:()=>ye});var d=p(6895),f=p(2019),r=p(433),w=p(5226),h=p.n(w),e=p(8256),b=p(1161);function x(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Debe tener al menos 5 caracteres "),e.qZA())}function q(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Debe ser un n\xfamero mayor que cero "),e.qZA())}function A(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Debe ser un n\xfamero mayor o igual que cero "),e.qZA())}function U(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," La fecha debe ser igual o mayor a la fecha de hoy "),e.qZA())}function k(n,i){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}function F(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Este campo es obligatorio "),e.qZA())}const E=function(){return["/schedule"]};let N=(()=>{class n{constructor(t,o){this.fb=t,this.groupService=o,this.addEvForm=this.fb.group({name:["",[r.kI.required,r.kI.minLength(5)]],info:[""],duration:[null,[r.kI.required,r.kI.min(.1)]],attendance:[null,[r.kI.required,r.kI.min(0)]],date:[null,[this.dateValidator]],group:["",[r.kI.required]]})}dateValidator(t){if(t.value){const o=new Date(t.value),a=new Date;if(o<new Date(a.getFullYear(),a.getMonth(),a.getDate()))return{invalidDate:!0}}return null}ngOnInit(){this.groupService.getGroups().subscribe({next:t=>{this.groups=t},error:t=>{h().fire("Fallo al recuperar los grupos de la api")}})}isNotValid(t){return this.addEvForm.controls[t].invalid&&this.addEvForm.controls[t].touched}save(){console.log("enviado")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(b.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-event"]],decls:50,vars:9,consts:[[1,"row"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","placeholder","ejemplo: Cumplea\xf1os de Miguel","formControlName","name",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["placeholder","A\xf1ade informaci\xf3n adicional","formControlName","info",1,"form-control"],["type","number","placeholder","Introduce el n\xfamero de horas","formControlName","duration",1,"form-control"],["type","number","placeholder","100","formControlName","attendance",1,"form-control"],["type","datetime-local","formControlName","date",1,"form-control"],["formControlName","group",1,"form-select"],["value","default"],["value","group.name",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","float-end"],["type","button",1,"btn","btn-secondary","float-end",3,"routerLink"],[1,"form-text","text-danger"],["value","group.name"]],template:function(t,o){1&t&&(e.TgZ(0,"h2"),e._uU(1,"A\xf1adir evento"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0)(4,"div",1)(5,"form",2),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(6,"div",3)(7,"label",4),e._uU(8,"Nombre"),e.qZA(),e.TgZ(9,"div",5),e._UZ(10,"input",6),e.YNc(11,x,2,0,"span",7),e.qZA()(),e.TgZ(12,"div",3)(13,"label",4),e._uU(14,"Informaci\xf3n"),e.qZA(),e.TgZ(15,"div",5),e._UZ(16,"textarea",8),e.qZA()(),e.TgZ(17,"div",3)(18,"label",4),e._uU(19,"Duraci\xf3n"),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"input",9),e.YNc(22,q,2,0,"span",7),e.qZA()(),e.TgZ(23,"div",3)(24,"label",4),e._uU(25,"Porcentaje de asistencia"),e.qZA(),e.TgZ(26,"div",5),e._UZ(27,"input",10),e.YNc(28,A,2,0,"span",7),e.qZA()(),e.TgZ(29,"div",3)(30,"label",4),e._uU(31,"Fecha"),e.qZA(),e.TgZ(32,"div",5),e._UZ(33,"input",11),e.YNc(34,U,2,0,"span",7),e.qZA()(),e.TgZ(35,"div",3)(36,"label",4),e._uU(37,"Grupo"),e.qZA(),e.TgZ(38,"div",5)(39,"select",12)(40,"option",13),e._uU(41,"Selecciona un grupo..."),e.qZA(),e.YNc(42,k,2,1,"option",14),e.qZA(),e.YNc(43,F,2,0,"span",7),e.qZA()(),e.TgZ(44,"div",0)(45,"div",1)(46,"button",15),e._uU(47," Guardar "),e.qZA(),e.TgZ(48,"button",16),e._uU(49," Volver "),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",o.addEvForm),e.xp6(6),e.Q6J("ngIf",o.isNotValid("name")),e.xp6(11),e.Q6J("ngIf",o.isNotValid("duration")),e.xp6(6),e.Q6J("ngIf",o.isNotValid("attendance")),e.xp6(6),e.Q6J("ngIf",o.isNotValid("date")),e.xp6(8),e.Q6J("ngForOf",o.groups),e.xp6(1),e.Q6J("ngIf",o.isNotValid("group")),e.xp6(5),e.Q6J("routerLink",e.DdM(8,E)))},dependencies:[d.sg,d.O5,f.rH,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u],encapsulation:2}),n})();const M=function(){return["addEvent"]};let J=(()=>{class n{constructor(){this.changeView=new e.vpe}ngOnInit(){}view(t){this.changeView.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],outputs:{changeView:"changeView"},decls:20,vars:2,consts:[[1,"row","gx-0","d-flex","justify-content-around","pt-2"],[1,"col-auto"],[1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-calendar-day"],[1,"fa-solid","fa-calendar-week"],[1,"fa-solid","fa-calendar-days"],[1,"row","mt-2"],[1,"btn","btn-warning",3,"routerLink"],[1,"fa-solid","fa-calendar-plus"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.view("day")}),e._UZ(3,"i",3),e._uU(4," D\xeda"),e.qZA()(),e.TgZ(5,"div",1)(6,"button",2),e.NdJ("click",function(){return o.view("week")}),e._UZ(7,"i",4),e._uU(8," Semana"),e.qZA()(),e.TgZ(9,"div",1)(10,"button",2),e.NdJ("click",function(){return o.view("month")}),e._UZ(11,"i",5),e._uU(12," Mes"),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",1)(15,"button",7),e._UZ(16,"i",8),e._uU(17," A\xf1adir evento"),e.qZA()(),e.TgZ(18,"div",1),e._uU(19," filtros "),e.qZA()()),2&t&&(e.xp6(15),e.Q6J("routerLink",e.DdM(1,M)))},dependencies:[f.rH],encapsulation:2}),n})();var v=p(2733);const S=function(n){return[n]};function Y(n,i){if(1&n&&(e.TgZ(0,"button",12),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("routerLink",e.VKq(2,S,null==t.cellEvent?null:t.cellEvent.id)),e.xp6(1),e.Oqu(null==t.cellEvent?null:t.cellEvent.name)}}function I(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Y,2,4,"button",11),e.qZA()()),2&n){const t=i.index,o=e.oxw(2);e.xp6(2),e.hij("",t,":00"),e.xp6(2),e.Q6J("ngIf",o.freeHour(t))}}const O=function(){return[]};function Q(n,i){1&n&&(e.TgZ(0,"table",9)(1,"tbody"),e.YNc(2,I,5,2,"tr",10),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngForOf",e.DdM(1,O).constructor(24)))}let V=(()=>{class n{constructor(t){this.eventService=t,this.today=new Date,this.getUserEvents()}ngOnInit(){this.generateDay(this.today,"es")}generateDay(t,o){this.day=t,this.title=t.toLocaleDateString(o,{weekday:"long",month:"long",year:"numeric",day:"2-digit"})}changeDay(t){let o=new Date(this.day);"-"===t?o.setDate(o.getDate()-1):"+"===t&&o.setDate(o.getDate()+1),this.generateDay(o,"es"),this.getUserEvents()}convertfinalDateStrToDate(t){let o=t.split(" ")[0],[a,l,s]=o.split("-");return new Date(Number(s),Number(l)-1,Number(a))}getUserEvents(){this.eventService.getUserEvents().subscribe({next:t=>{this.userEvents=t.filter(o=>{let a=this.convertfinalDateStrToDate(o.finalDate);return a.getDate()===this.day.getDate()&&a.getMonth()===this.day.getMonth()&&a.getFullYear()===this.day.getFullYear()});for(let o of this.userEvents){let a=o.finalDate.split(" ")[1],[l,s,c]=a.split(":"),u={id:o.id,hour:Number(l),name:o.name};null!=this.dayEvents?this.dayEvents.push(u):this.dayEvents=[u]}},error:()=>{h().fire("Error al recuperar los eventos del usuario")}})}freeHour(t){return this.cellEvent=this.dayEvents.find(o=>o.hour==t),null!=this.cellEvent}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-day-calendar"]],decls:11,vars:2,consts:[[1,"container-fluid","p-0","h-100","d-flex","flex-column","pt-4"],[1,"row"],[1,"d-flex","justify-content-center"],["data-toggle","tooltip","data-placement","left","title","D\xeda anterior",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-caret-left"],["data-toggle","tooltip","data-placement","right","title","Siguiente d\xeda",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-caret-right"],[1,"row","overflow-scroll","h-75"],["class","table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],["class","btn btn-warning",3,"routerLink",4,"ngIf"],[1,"btn","btn-warning",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return o.changeDay("-")}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"h3"),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return o.changeDay("+")}),e._UZ(8,"i",6),e.qZA()()(),e.TgZ(9,"div",7),e.YNc(10,Q,3,2,"table",8),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(o.title),e.xp6(4),e.Q6J("ngIf",null!=o.dayEvents))},dependencies:[d.sg,d.O5,f.rH],encapsulation:2}),n})();const W=function(n){return{"text-danger":n}};function L(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e._uU(4),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("ngClass",e.VKq(3,W,t.date.getTime()===o.today.getTime())),e.xp6(2),e.Oqu(t.day),e.xp6(2),e.Oqu(t.number)}}function j(n,i){1&n&&e._UZ(0,"td")}const C=function(){return[]};function $(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.YNc(3,j,1,0,"td",11),e.qZA()),2&n){const t=i.index;e.xp6(2),e.hij("",t,":00"),e.xp6(1),e.Q6J("ngForOf",e.DdM(2,C).constructor(7))}}let G=(()=>{class n{constructor(){this.focusedWeek=[],this.today=new Date}ngOnInit(){this.generateWeek(this.today,"es")}generateWeek(t,o){this.title=t.toLocaleDateString(o,{month:"long",year:"numeric"});let l,a=t;for(let s=0;s<7;s++){let c=a.getDay(),u=new Date(a);"es"===o?(l={day:a.toLocaleDateString("es",{weekday:"short"}),number:a.getDate(),date:u},0===c?(this.focusedWeek.splice(6,0,{...l}),a.setDate(a.getDate()-6)):(this.focusedWeek.splice(c-1,0,{...l}),a.setDate(a.getDate()+1))):(l={day:a.toLocaleDateString("eng",{weekday:"short"}),number:a.getDate(),date:u},this.focusedWeek.splice(c,0,{...l}),a.setDate(6===c?a.getDate()-6:a.getDate()+1))}}changeWeek(t){let o=new Date(this.focusedWeek[0].date);"-"===t?o.setDate(o.getDate()-7):"+"===t&&o.setDate(o.getDate()+7),this.focusedWeek.splice(0,this.focusedWeek.length),this.generateWeek(o,"es")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-week-calendar"]],decls:17,vars:4,consts:[[1,"container","h-100","d-flex","flex-column","pt-4"],[1,"row"],[1,"d-flex","justify-content-center"],["data-toggle","tooltip","data-placement","left","title","Anterior semana",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-caret-left"],["data-toggle","tooltip","data-placement","right","title","Siguiente semana",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-caret-right"],[1,"col"],["class","col",3,"ngClass",4,"ngFor","ngForOf"],[1,"row","h-75","overflow-auto"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"col",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return o.changeWeek("-")}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"h3"),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return o.changeWeek("+")}),e._UZ(8,"i",6),e.qZA()()(),e.TgZ(9,"div",1),e._UZ(10,"div",7),e.YNc(11,L,5,5,"div",8),e.qZA(),e.TgZ(12,"div",9)(13,"div",7)(14,"table",10)(15,"tbody"),e.YNc(16,$,4,3,"tr",11),e.qZA()()()()()),2&t&&(e.xp6(6),e.Oqu(o.title),e.xp6(5),e.Q6J("ngForOf",o.focusedWeek),e.xp6(5),e.Q6J("ngForOf",e.DdM(3,C).constructor(24)))},dependencies:[d.mk,d.sg],encapsulation:2}),n})();const K=function(){return{weekday:"narrow"}},Z=function(n){return{"text-danger":n}};function X(n,i){if(1&n&&(e.TgZ(0,"td")(1,"span",9),e._uU(2),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,Z,t===o.today.toLocaleDateString("es",e.DdM(2,K)))),e.xp6(1),e.Oqu(t)}}const H=function(n){return[n]};function P(n,i){if(1&n&&(e.TgZ(0,"a")(1,"span",12),e._UZ(2,"i",13),e.qZA()()),2&n){const t=i.$implicit,o=i.index;e.xp6(1),e.MGl("title","Ver evento ",o+1,""),e.Q6J("routerLink",e.VKq(3,H,t.id)),e.xp6(1),e.Q6J("ngClass",o/2==0?"text-info":"text-primary")}}function z(n,i){if(1&n&&(e.TgZ(0,"div")(1,"span",9),e._uU(2),e.qZA(),e.YNc(3,P,3,5,"a",8),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,Z,t.date.getDate()===o.today.getDate())),e.xp6(1),e.hij(" ",t.date.getDate()," "),e.xp6(1),e.Q6J("ngForOf",t.event)}}function R(n,i){if(1&n&&(e.TgZ(0,"div")(1,"span",9),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,Z,t.date.getDate()===o.today.getDate())),e.xp6(1),e.Oqu(t.date.getDate())}}const B=function(n){return{"bg-warning":n}};function ee(n,i){if(1&n&&(e.TgZ(0,"td",9),e.YNc(1,z,4,5,"div",11),e.YNc(2,R,3,4,"div",11),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass",e.VKq(3,B,t.event)),e.xp6(1),e.Q6J("ngIf",null!=t.event),e.xp6(1),e.Q6J("ngIf",null==t.event)}}function te(n,i){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,ee,3,5,"td",10),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.focusedMonth.get(t))}}let ne=(()=>{class n{constructor(t){this.eventService=t,this.weekDays=[],this.focusedMonth=new Map,this.monthWeeks=4,this.today=new Date}ngOnInit(){this.weekDays=this.generateWeek(this.today,"es"),this.monthWeeks=this.weekCount(this.today.getFullYear(),this.today.getMonth(),this.today.getDay()),this.generateMonth(this.today),this.getUserEvents()}generateMonth(t){let o=this.weekCount(t.getFullYear(),t.getMonth(),t.getDay()),a=7*o,l=new Date(t.getFullYear(),t.getMonth(),1).getDay();0===l&&(l=7);let s=t.getMonth()-1,c=t.getFullYear();-1===s&&(c-=1,s=11);let m=new Date(c,s+1,0).getDate()-(l-2),T=[];for(let g=0;g<a;g++){let _,D;g<l-1?_=new Date(c,s,m):(g==l-1&&(m=1),_=new Date(t.getFullYear(),t.getMonth(),m)),m+=1,D={date:_,event:void 0},T.push(D)}for(let g=0;g<o;g++){let _=T.splice(0,7);this.focusedMonth.set(g,_)}}generateWeek(t,o){this.title=t.toLocaleDateString(o,{month:"long",year:"numeric"});let l,a=t,s=[];for(let c=0;c<7;c++){let u=a.getDay();l=a.toLocaleDateString(o,{weekday:"narrow"}),"es"===o?0===u?(s.splice(6,0,l),a.setDate(a.getDate()-6)):(s.splice(u-1,0,l),a.setDate(a.getDate()+1)):(s.splice(u,0,l),a.setDate(6===u?a.getDate()-6:a.getDate()+1))}return s}weekCount(t,o,a){let l=new Date(t,o-1,1),c=new Date(t,o,0).getDate(),m=(l.getDay()-a+7)%7+c;return Math.ceil(m/7)}changeMonth(t){let a=this.focusedMonth.get(1)[0].date;a.setMonth("-"===t?a.getMonth()-1:a.getMonth()+1),this.focusedMonth.clear(),this.generateWeek(a,"es"),this.generateMonth(a),this.getUserEvents()}convertfinalDateStrToDate(t){let o=t.split(" ")[0],[a,l,s]=o.split("-");return new Date(Number(s),Number(l)-1,Number(a))}getUserEvents(){this.eventService.getUserEvents().subscribe({next:t=>{this.userEvents=t.filter(o=>{let a=this.convertfinalDateStrToDate(o.finalDate),l=this.focusedMonth.get(1);return a.getMonth()===l[0].date.getMonth()&&a.getFullYear()===l[0].date.getFullYear()}),this.setEvents()},error:()=>{h().fire("Error al recuperar los eventos del usuario")}})}setEvents(){for(let t of this.userEvents){let o=this.convertfinalDateStrToDate(t.finalDate);for(let a of this.focusedMonth.values()){let l=a.find(({date:s})=>s.getTime()===o.getTime());if(null!=l){let s=a.findIndex(c=>c===l);null!=a[s].event?a[s].event.push(t):a[s].event=[t]}}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-month-calendar"]],decls:16,vars:3,consts:[[1,"container-fluid","p-0","h-100","d-flex","flex-column","pt-4"],[1,"row"],[1,"d-flex","justify-content-center"],["data-toggle","tooltip","data-placement","left","title","Mes anterior",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-caret-left"],["data-toggle","tooltip","data-placement","right","title","Siguiente mes",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-caret-right"],[1,"table"],[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],["data-toggle","tooltip",3,"routerLink","title"],["size","5",1,"fa-solid","fa-circle","float-right",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return o.changeMonth("-")}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"h3"),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return o.changeMonth("+")}),e._UZ(8,"i",6),e.qZA()()(),e.TgZ(9,"div",1)(10,"table",7)(11,"thead")(12,"tr"),e.YNc(13,X,3,5,"td",8),e.qZA()(),e.TgZ(14,"tbody"),e.YNc(15,te,2,1,"tr",8),e.qZA()()()()),2&t&&(e.xp6(6),e.Oqu(o.title),e.xp6(7),e.Q6J("ngForOf",o.weekDays),e.xp6(2),e.Q6J("ngForOf",o.focusedMonth.keys()))},dependencies:[d.mk,d.sg,d.O5,f.rH],encapsulation:2}),n})();function oe(n,i){1&n&&e._UZ(0,"app-week-calendar")}function ae(n,i){1&n&&e._UZ(0,"app-day-calendar")}function ie(n,i){1&n&&e._UZ(0,"app-month-calendar")}let re=(()=>{class n{constructor(){this.view="week"}ngOnInit(){}setView(t){this.view=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-show-calendar"]],decls:11,vars:4,consts:[[1,"container","d-flex","flex-column","h-100"],[1,"row","gx-5","h-100"],[1,"col-9","h-100",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"col","d-flex","flex-column"],[1,"row"],[3,"changeView"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,oe,1,0,"app-week-calendar",3),e.YNc(4,ae,1,0,"app-day-calendar",3),e.YNc(5,ie,1,0,"app-month-calendar",3),e.qZA(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"app-month-calendar"),e.qZA(),e.TgZ(9,"div",5)(10,"app-settings",6),e.NdJ("changeView",function(l){return o.setView(l)}),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("ngSwitch",o.view),e.xp6(1),e.Q6J("ngSwitchCase","week"),e.xp6(1),e.Q6J("ngSwitchCase","day"),e.xp6(1),e.Q6J("ngSwitchCase","month"))},dependencies:[d.RF,d.n9,J,V,G,ne],encapsulation:2}),n})();function le(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Debe tener al menos 5 caracteres "),e.qZA())}function se(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Debe ser un n\xfamero mayor que cero "),e.qZA())}function ce(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Debe ser un n\xfamero mayor o igual que cero "),e.qZA())}function de(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," La fecha debe ser igual o mayor a la fecha de hoy "),e.qZA())}function ue(n,i){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}function pe(n,i){1&n&&(e.TgZ(0,"span",17),e._uU(1," Este campo es obligatorio "),e.qZA())}let fe=(()=>{class n{constructor(t,o){this.fb=t,this.route=o,this.groups=["daw","fotograf\xeda"],this.updateEvForm=this.fb.group({name:["",[r.kI.required,r.kI.minLength(5)]],info:[""],duration:[null,[r.kI.required,r.kI.min(.1)]],attendance:[null,[r.kI.required,r.kI.min(0)]],date:[null,[this.dateValidator]],group:["",[r.kI.required]]})}ngOnInit(){}dateValidator(t){if(t.value){const o=new Date(t.value),a=new Date;if(o<new Date(a.getFullYear(),a.getMonth(),a.getDate()))return{invalidDate:!0}}return null}isNotValid(t){return this.updateEvForm.controls[t].invalid&&this.updateEvForm.controls[t].touched}save(){console.log("Enviado")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(f.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-event"]],decls:50,vars:7,consts:[[1,"row"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","placeholder","ejemplo: Cumplea\xf1os de Miguel","formControlName","name",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["placeholder","A\xf1ade informaci\xf3n adicional","formControlName","info",1,"form-control"],["type","number","placeholder","Introduce el n\xfamero de horas","formControlName","duration",1,"form-control"],["type","number","placeholder","100","formControlName","attendance",1,"form-control"],["type","datetime-local","formControlName","date",1,"form-control"],["formControlName","group",1,"form-select"],["value","default"],["value","group",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","float-end"],["type","button","routerLink","..",1,"btn","btn-secondary","float-end"],[1,"form-text","text-danger"],["value","group"]],template:function(t,o){1&t&&(e.TgZ(0,"h2"),e._uU(1,"Editar evento"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0)(4,"div",1)(5,"form",2),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(6,"div",3)(7,"label",4),e._uU(8,"Nombre"),e.qZA(),e.TgZ(9,"div",5),e._UZ(10,"input",6),e.YNc(11,le,2,0,"span",7),e.qZA()(),e.TgZ(12,"div",3)(13,"label",4),e._uU(14,"Informaci\xf3n"),e.qZA(),e.TgZ(15,"div",5),e._UZ(16,"textarea",8),e.qZA()(),e.TgZ(17,"div",3)(18,"label",4),e._uU(19,"Duraci\xf3n"),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"input",9),e.YNc(22,se,2,0,"span",7),e.qZA()(),e.TgZ(23,"div",3)(24,"label",4),e._uU(25,"Porcentaje de asistencia"),e.qZA(),e.TgZ(26,"div",5),e._UZ(27,"input",10),e.YNc(28,ce,2,0,"span",7),e.qZA()(),e.TgZ(29,"div",3)(30,"label",4),e._uU(31,"Fecha"),e.qZA(),e.TgZ(32,"div",5),e._UZ(33,"input",11),e.YNc(34,de,2,0,"span",7),e.qZA()(),e.TgZ(35,"div",3)(36,"label",4),e._uU(37,"Grupo"),e.qZA(),e.TgZ(38,"div",5)(39,"select",12)(40,"option",13),e._uU(41,"Selecciona un grupo..."),e.qZA(),e.YNc(42,ue,2,1,"option",14),e.qZA(),e.YNc(43,pe,2,0,"span",7),e.qZA()(),e.TgZ(44,"div",0)(45,"div",1)(46,"button",15),e._uU(47," Guardar "),e.qZA(),e.TgZ(48,"button",16),e._uU(49," Volver "),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",o.updateEvForm),e.xp6(6),e.Q6J("ngIf",o.isNotValid("name")),e.xp6(11),e.Q6J("ngIf",o.isNotValid("duration")),e.xp6(6),e.Q6J("ngIf",o.isNotValid("attendance")),e.xp6(6),e.Q6J("ngIf",o.isNotValid("date")),e.xp6(8),e.Q6J("ngForOf",o.groups),e.xp6(1),e.Q6J("ngIf",o.isNotValid("group")))},dependencies:[d.sg,d.O5,f.rH,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u],encapsulation:2}),n})();function ge(n,i){if(1&n&&(e.TgZ(0,"li",19),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.lnq(" ",t.period," ",t.votes," ",t.freeForAll," ")}}function me(n,i){if(1&n&&(e.TgZ(0,"li",19),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.AsE(" ",t.user.username," (",t.confirmed?"confirmado":"sin confirmar",") ")}}const _e=function(){return["update"]};function he(n,i){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),e._uU(4,"Informaci\xf3n del evento"),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"h4"),e._uU(8),e.TgZ(9,"button",7),e._UZ(10,"i",8),e._uU(11," Editar evento"),e.qZA()()(),e.TgZ(12,"div",9)(13,"label",10),e._uU(14,"Informaci\xf3n"),e.qZA(),e.TgZ(15,"span",11),e._uU(16),e.qZA()(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"label",10),e._uU(21,"Porcentaje de asistencia estimado"),e.qZA(),e.TgZ(22,"span",11),e._uU(23),e.qZA()(),e.TgZ(24,"div",14)(25,"label",10),e._uU(26,"Duraci\xf3n(horas)"),e.qZA(),e.TgZ(27,"span",11),e._uU(28),e.qZA()(),e.TgZ(29,"div",14)(30,"label",10),e._uU(31,"Fecha final"),e.qZA(),e.TgZ(32,"span",11),e._uU(33),e.qZA()()()()(),e.TgZ(34,"div",15)(35,"div")(36,"h5"),e._uU(37,"calendario"),e.qZA(),e.TgZ(38,"ul",16),e.YNc(39,ge,2,3,"li",17),e.qZA()()()(),e.TgZ(40,"div",18)(41,"h3",4),e._uU(42,"Participantes"),e.qZA(),e.TgZ(43,"ul",16),e.YNc(44,me,2,2,"li",17),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(8),e.hij("",t.event.name," "),e.xp6(1),e.Q6J("routerLink",e.DdM(8,_e)),e.xp6(7),e.Oqu(t.event.info),e.xp6(7),e.Oqu(t.event.attendance),e.xp6(5),e.Oqu(t.event.duration),e.xp6(5),e.Oqu(t.event.finalDate),e.xp6(6),e.Q6J("ngForOf",t.event.calendar),e.xp6(5),e.Q6J("ngForOf",t.event.participation)}}const ve=[{path:"",children:[{path:"",component:re},{path:"addEvent",component:N},{path:":event",component:(()=>{class n{constructor(t,o){this.route=t,this.eventService=o,this.eventService.getEvent(this.route.snapshot.params.event).subscribe({next:a=>{this.event=a},error:()=>{h().fire("No se ha podido recuperar la informaci\xf3n del evento")}})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.gz),e.Y36(v.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-show-event"]],decls:1,vars:1,consts:[["class","container-fluid p-0 h-100 d-flex flex-column pt-4",4,"ngIf"],[1,"container-fluid","p-0","h-100","d-flex","flex-column","pt-4"],[1,"row","gx-5"],[1,"col-9"],[1,"text-center"],[1,"row","d-flex","flex-column","gy-3"],[1,"pr-4"],[1,"btn","btn-warning","float-end",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"form-group"],[1,"text-info"],[1,"form-control-plaintext"],[1,"container-fluid","d-flex","px-12"],[1,"row","w-100"],[1,"form-group","col-auto"],[1,"row","pt-3"],[1,"nav","flex-column"],["class","nav-item",4,"ngFor","ngForOf"],[1,"col"],[1,"nav-item"]],template:function(t,o){1&t&&e.YNc(0,he,45,9,"div",0),2&t&&e.Q6J("ngIf",o.event)},dependencies:[d.sg,d.O5,f.rH],encapsulation:2}),n})()},{path:":event/update",component:fe}]}];let Ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz.forChild(ve),f.Bz]}),n})(),ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,Ze,r.UX]}),n})()}}]);