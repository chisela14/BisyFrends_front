"use strict";(self.webpackChunkbisyFrends=self.webpackChunkbisyFrends||[]).push([[998],{2998:(V,p,l)=>{l.r(p),l.d(p,{AuthModule:()=>x});var d=l(6895),u=l(2019),e=l(8256),c=l(6401),s=l(433);const f=["loginForm"];function h(n,r){1&n&&(e.TgZ(0,"span",14),e._uU(1," El nombre de usuario es obligatorio "),e.qZA())}function v(n,r){1&n&&(e.TgZ(0,"span",14),e._uU(1," La contrase\xf1a es obligatoria "),e.qZA())}const Z=function(){return["/register"]};let _=(()=>{class n{constructor(o,t){this.authService=o,this.router=t,this.user={username:"",password:""}}ngOnInit(){}notValid(o){return this.loginForm?.controls[o]?.invalid&&this.loginForm?.controls[o]?.touched}save(){this.authService.login(this.user.username,this.user.password)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(c.e),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(o,t){if(1&o&&e.Gf(f,5),2&o){let i;e.iGM(i=e.CRH())&&(t.loginForm=i.first)}},decls:25,vars:7,consts:[[1,"row","justify-content-center","h-75","align-items-center"],[1,"card","w-25","justify-content-center","p-4"],[1,"w-100","d-flex","flex-column","m-0",3,"ngSubmit"],["loginForm","ngForm"],["for","username",1,"control-label"],["id","username","type","text","placeholder","username123","name","username","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"mt-2"],["for","password",1,"control-label"],["id","password","type","password","placeholder","********","name","password","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],[1,"mt-4"],["id","send","name","send",1,"btn","btn-primary","w-100",3,"disabled"],[1,"d-flex","justify-content-center","links"],["id","register","name","register",1,"card-link",3,"routerLink"],[1,"text-danger"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),e.NdJ("ngSubmit",function(){return t.save()}),e.TgZ(4,"legend"),e._uU(5,"Login"),e.qZA(),e.TgZ(6,"div")(7,"label",4),e._uU(8,"Usuario"),e.qZA(),e.TgZ(9,"div")(10,"input",5),e.NdJ("ngModelChange",function(a){return t.user.username=a}),e.qZA(),e.YNc(11,h,2,0,"span",6),e.qZA()(),e.TgZ(12,"div",7)(13,"label",8),e._uU(14,"Contrase\xf1a"),e.qZA(),e.TgZ(15,"div")(16,"input",9),e.NdJ("ngModelChange",function(a){return t.user.password=a}),e.qZA(),e.YNc(17,v,2,0,"span",6),e.qZA()(),e.TgZ(18,"div",10)(19,"button",11),e._uU(20,"Enviar"),e.qZA()(),e.TgZ(21,"div",10)(22,"div",12)(23,"a",13),e._uU(24,"Registrarse"),e.qZA()()()()()()),2&o){const i=e.MAs(3);e.xp6(10),e.Q6J("ngModel",t.user.username),e.xp6(1),e.Q6J("ngIf",t.notValid("username")),e.xp6(5),e.Q6J("ngModel",t.user.password),e.xp6(1),e.Q6J("ngIf",t.notValid("password")),e.xp6(2),e.Q6J("disabled",i.invalid),e.xp6(4),e.Q6J("routerLink",e.DdM(6,Z))}},dependencies:[d.O5,u.yS,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F],encapsulation:2}),n})();var C=l(5226),g=l.n(C),m=l(529);let T=(()=>{class n{constructor(o){this.http=o}addUser(o,t){const i=new m.WM({"Content-Type":"multipart/form-data"});return this.http.post("https://bisyfrendsback-production.up.railway.app/signup",[o,t],{headers:i})}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A=["regForm"];function y(n,r){1&n&&(e.TgZ(0,"span",21),e._uU(1," El nombre es obligatorio "),e.qZA())}function b(n,r){1&n&&(e.TgZ(0,"span",21),e._uU(1," El email es obligatorio "),e.qZA())}function w(n,r){1&n&&(e.TgZ(0,"span",21),e._uU(1," El nombre de usuario es obligatorio "),e.qZA())}function J(n,r){1&n&&(e.TgZ(0,"span",21),e._uU(1," La contrase\xf1a es obligatoria "),e.qZA())}function q(n,r){1&n&&(e.TgZ(0,"span",21),e._uU(1," Este campo es obligatorio "),e.qZA())}const F=function(){return["/login"]},L=[{path:"",children:[{path:"login",component:_},{path:"register",component:(()=>{class n{constructor(o,t){this.userService=o,this.router=t,this.user={username:"",password:"",name:"",email:"",picture:""},this.password2=""}ngOnInit(){}notValid(o){return this.regForm?.controls[o]?.invalid&&this.regForm?.controls[o]?.touched}save(){this.regForm?.controls.password?.value!=this.password2?g().fire("Las contrase\xf1as no coinciden"):(console.log(this.user),this.userService.addUser(this.user,this.file).subscribe({next:()=>this.router.navigateByUrl("/verify"),error:()=>{g().fire("No se podido a\xf1adir el usuario")}}))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(T),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],viewQuery:function(o,t){if(1&o&&e.Gf(A,5),2&o){let i;e.iGM(i=e.CRH())&&(t.regForm=i.first)}},decls:48,vars:14,consts:[[1,"row","justify-content-center","h-100","align-items-center"],[1,"card","w-25","justify-content-center","p-4"],[1,"w-100","d-flex","flex-column","m-0",3,"ngSubmit"],["regForm","ngForm"],["for","password",1,"control-label"],["id","name","type","name","placeholder","Nombre Apellido/s","name","name","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"mt-2"],["for","email",1,"control-label"],["id","email","type","email","placeholder","email@mail.com","name","email","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],["for","username",1,"control-label"],["id","username","type","text","placeholder","username123","name","username","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],["id","password","type","password","placeholder","********","name","password","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],["for","confirmPassword",1,"control-label"],["id","confirmPassword","type","password","placeholder","********","name","confirmPassword","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],["for","file",1,"control-label"],["id","file","type","file","name","file","required","",1,"form-control","input-md",3,"ngModel","ngModelChange"],[1,"mt-4"],["id","send","name","send",1,"btn","btn-primary","w-100",3,"disabled"],[1,"d-flex","justify-content-center","links"],["id","login","name","login",1,"card-link",3,"routerLink"],[1,"text-danger"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),e.NdJ("ngSubmit",function(){return t.save()}),e.TgZ(4,"legend"),e._uU(5,"Registro"),e.qZA(),e.TgZ(6,"div")(7,"label",4),e._uU(8,"Nombre"),e.qZA(),e.TgZ(9,"div")(10,"input",5),e.NdJ("ngModelChange",function(a){return t.user.name=a}),e.qZA(),e.YNc(11,y,2,0,"span",6),e.qZA()(),e.TgZ(12,"div",7)(13,"label",8),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"div")(16,"input",9),e.NdJ("ngModelChange",function(a){return t.user.email=a}),e.qZA(),e.YNc(17,b,2,0,"span",6),e.qZA()(),e.TgZ(18,"div",7)(19,"label",10),e._uU(20,"Usuario"),e.qZA(),e.TgZ(21,"div")(22,"input",11),e.NdJ("ngModelChange",function(a){return t.user.username=a}),e.qZA(),e.YNc(23,w,2,0,"span",6),e.qZA()(),e.TgZ(24,"div",7)(25,"label",4),e._uU(26,"Contrase\xf1a"),e.qZA(),e.TgZ(27,"div")(28,"input",12),e.NdJ("ngModelChange",function(a){return t.user.password=a}),e.qZA(),e.YNc(29,J,2,0,"span",6),e.qZA()(),e.TgZ(30,"div",7)(31,"label",13),e._uU(32,"Repite la contrase\xf1a"),e.qZA(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(a){return t.password2=a}),e.qZA(),e.YNc(35,q,2,0,"span",6),e.qZA()(),e.TgZ(36,"div",7)(37,"label",15),e._uU(38,"Foto de perfil"),e.qZA(),e.TgZ(39,"div")(40,"input",16),e.NdJ("ngModelChange",function(a){return t.file=a}),e.qZA()()(),e.TgZ(41,"div",17)(42,"button",18),e._uU(43,"Enviar"),e.qZA()(),e.TgZ(44,"div",17)(45,"div",19)(46,"a",20),e._uU(47,"Volver al login"),e.qZA()()()()()()),2&o){const i=e.MAs(3);e.xp6(10),e.Q6J("ngModel",t.user.name),e.xp6(1),e.Q6J("ngIf",t.notValid("name")),e.xp6(5),e.Q6J("ngModel",t.user.email),e.xp6(1),e.Q6J("ngIf",t.notValid("email")),e.xp6(5),e.Q6J("ngModel",t.user.username),e.xp6(1),e.Q6J("ngIf",t.notValid("username")),e.xp6(5),e.Q6J("ngModel",t.user.password),e.xp6(1),e.Q6J("ngIf",t.notValid("password")),e.xp6(5),e.Q6J("ngModel",t.password2),e.xp6(1),e.Q6J("ngIf",t.notValid("confirmPassword")),e.xp6(5),e.Q6J("ngModel",t.file),e.xp6(2),e.Q6J("disabled",i.invalid),e.xp6(4),e.Q6J("routerLink",e.DdM(13,F))}},dependencies:[d.O5,u.yS,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F],encapsulation:2}),n})()},{path:"verify",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verify"]],decls:2,vars:0,template:function(o,t){1&o&&(e.TgZ(0,"p"),e._uU(1,"verify works!"),e.qZA())},encapsulation:2}),n})()},{path:"",component:l(3960).h}]}];let N=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(L),u.Bz]}),n})();var S=l(1457);let x=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,N,S.HomeModule,s.u5]}),n})()}}]);